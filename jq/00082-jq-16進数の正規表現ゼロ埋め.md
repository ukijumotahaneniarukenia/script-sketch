- CMD

```
$ echo '\x{20}-\x{21}\x{A0}-\x{A1}\x{1680}-\x{1681}\x{2000}-\x{200B}\x{202F}-\x{2030}\x{205F}-\x{2060}\x{3000}-\x{3001}' | teip -Gog '{|}' -- sed 's/.//g' | sed 's/x/u/g'
```

- OUT


```
\u20-\u21\uA0-\uA1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001
```

- CMD

  - jq投入するには4桁にしないとだめぽい
```
$ echo '\x{20}-\x{21}\x{A0}-\x{A1}\x{1680}-\x{1681}\x{2000}-\x{200B}\x{202F}-\x{2030}\x{205F}-\x{2060}\x{3000}-\x{3001}' | teip -Gog '{|}' -- sed 's/.//g' | sed 's/x/u/g' | ruby -F- -anle 'puts $F.map{|e|e.split("\\u").map{|ee|case when ee.match?(/[0-9A-F]+/);ee.length==2 ? "00"+ee : ee ;   else ee;end}.join("\\u")}.join("-")'
```

- OUT

```
\u0020-\u0021\u00A0-\u00A1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001
```


これはNG食らって

```
$ echo 👨‍👩‍👧‍👦 | jq -R 'split("") as $a|$a|map(select(test("[\u20-\u21\uA0-\uA1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001]"))) as $b|($a|length)-($b|length)'
jq: error: Invalid \uXXXX escape at line 1, column 6 (while parsing '"\u20"') at <top-level>, line 1:
split("") as $a|$a|map(select(test("[\u20-\u21\uA0-\uA1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001]"))) as $b|($a|length)-($b|length)                                     
jq: error: Invalid characters in \uXXXX escape at line 1, column 10 (while parsing '"\u21\uA0"') at <top-level>, line 1:
split("") as $a|$a|map(select(test("[\u20-\u21\uA0-\uA1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001]"))) as $b|($a|length)-($b|length)                                          
jq: error: Invalid characters in \uXXXX escape at line 1, column 12 (while parsing '"\uA1\u1680"') at <top-level>, line 1:
split("") as $a|$a|map(select(test("[\u20-\u21\uA0-\uA1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001]"))) as $b|($a|length)-($b|length)                                                   
jq: 3 compile errors
```


これはOKなるらしい

```
$ echo 👨‍👩‍👧‍👦 | jq -R 'split("") as $a|$a|map(select(test("[\u0020-\u0021\u00A0-\u00A1\u1680-\u1681\u2000-\u200B\u202F-\u2030\u205F-\u2060\u3000-\u3001]"))) as $b|($a|length)-($b|length)'
7
```
