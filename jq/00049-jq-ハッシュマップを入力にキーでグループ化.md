- CMD

```
echo 'めがとろんでめがとろん' | jq -rR 'explode|map({key:.,value:[.]|implode})|group_by(.key)[]|"\(.[0]) \(length)"'
```


- OUT

```
{"key":12364,"value":"が"} 2
{"key":12391,"value":"で"} 1
{"key":12392,"value":"と"} 2
{"key":12417,"value":"め"} 2
{"key":12429,"value":"ろ"} 2
{"key":12435,"value":"ん"} 2
```


- CMD

  - keyだけぬきだす
```
echo 'めがとろんでめがとろん' | jq -rR 'explode|map({key:.,value:[.]|implode})|group_by(.key)[]|.[0]'
```


- OUT

```
{
  "key": 12364,
  "value": "が"
}
{
  "key": 12391,
  "value": "で"
}
{
  "key": 12392,
  "value": "と"
}
{
  "key": 12417,
  "value": "め"
}
{
  "key": 12429,
  "value": "ろ"
}
{
  "key": 12435,
  "value": "ん"
}
```


- CMD

  - ebanさんのどこにのっているのかよくわからんがすごいやつ

  - **"\(.[0])"**と書くとコンパクトに出力される

```
echo 'めがとろんでめがとろん' | jq -rR 'explode|map({key:.,value:[.]|implode})|group_by(.key)[]|"\(.[0])"'
```

```
{"key":12364,"value":"が"}
{"key":12391,"value":"で"}
{"key":12392,"value":"と"}
{"key":12417,"value":"め"}
{"key":12429,"value":"ろ"}
{"key":12435,"value":"ん"}
```


- CMD

  - 複数行対応

```
echo 'めがとろんでめがとろん cafelatte' | xargs -n1 | jq -rR 'explode|map({key:.,value:[.]|implode})|group_by(.key)[]|"\(.[0])"'
```



- OUT

```
{"key":12364,"value":"が"}
{"key":12391,"value":"で"}
{"key":12392,"value":"と"}
{"key":12417,"value":"め"}
{"key":12429,"value":"ろ"}
{"key":12435,"value":"ん"}
{"key":97,"value":"a"}
{"key":99,"value":"c"}
{"key":101,"value":"e"}
{"key":102,"value":"f"}
{"key":108,"value":"l"}
{"key":116,"value":"t"}
```


- CMD

```

echo 'めがとろんでめがとろん cafelatte' | xargs -n1 | jq -rR 'explode|map({key:.,value:[.]|implode})|group_by(.key)[]|"\(.[0]) \(length)"'

```

- OUT

```
{"key":12364,"value":"が"} 2
{"key":12391,"value":"で"} 1
{"key":12392,"value":"と"} 2
{"key":12417,"value":"め"} 2
{"key":12429,"value":"ろ"} 2
{"key":12435,"value":"ん"} 2
{"key":97,"value":"a"} 2
{"key":99,"value":"c"} 1
{"key":101,"value":"e"} 2
{"key":102,"value":"f"} 1
{"key":108,"value":"l"} 1
{"key":116,"value":"t"} 2
```
