IN

```
$ echo '{"a":[{"b":1}]}' | jq
{
  "a": [
    {
      "b": 1
    }
  ]
}
```

CMD

```
$ echo '{"a":[{"b":1}]}' | jq -cr '. as $in|[path(..)]|map(. as $path|{"k":($path|map(if type == "string" then "."+. else "["+tostring+"]" end)|join("")),"v":($in|getpath($path))})[]|"\(.k)\t\(.v)"'
```

OUT

```
	{"a":[{"b":1}]}
.a	[{"b":1}]
.a[0]	{"b":1}
.a[0].b	1
```

IN

```
$ echo '{"a":[{"b":1}]}' | jq
{
  "a": [
    {
      "b": 1
    }
  ]
}
```

CMD

```
$ echo '{"a":[{"b":1}]}' | jq -cr '. as $in|[path(..)]|map(. as $path|{"k":($path|map(if type == "number" then "["+tostring+"]" else "."+. end)|join("")),"v":($in|getpath($path))})[]|"\(.k)\t\(.v)"'
```

OUT

```
	{"a":[{"b":1}]}
.a	[{"b":1}]
.a[0]	{"b":1}
.a[0].b	1
```
