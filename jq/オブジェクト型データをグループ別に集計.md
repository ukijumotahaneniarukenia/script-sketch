```
kuraine@71ecc4cebf8f ~/script-sketch/jq$jq -n '[{"grp":1,"item":{"key":"a","value":11}},{"grp":1,"item":{"key":"b","value":12}},{"grp":2,"item":{"key":"c","value":13}},{"grp":2,"item":{"key":"d","value":14}}]|group_by(.grp)|map({"grp":.[].grp,"items":(reduce .[].item as $item ([];.+[$item]))})|unique'
[
  {
    "grp": 1,
    "items": [
      {
        "key": "a",
        "value": 11
      },
      {
        "key": "b",
        "value": 12
      }
    ]
  },
  {
    "grp": 2,
    "items": [
      {
        "key": "c",
        "value": 13
      },
      {
        "key": "d",
        "value": 14
      }
    ]
  }
]
```


```
kuraine@71ecc4cebf8f ~/script-sketch/jq$jq -n '[{"grp":1,"item":{"key":"a","value":11}},{"grp":1,"item":{"key":"b","value":12}},{"grp":2,"item":{"key":"c","value":13}},{"grp":2,"item":{"key":"d","value":14}}]'
[
  {
    "grp": 1,
    "item": {
      "key": "a",
      "value": 11
    }
  },
  {
    "grp": 1,
    "item": {
      "key": "b",
      "value": 12
    }
  },
  {
    "grp": 2,
    "item": {
      "key": "c",
      "value": 13
    }
  },
  {
    "grp": 2,
    "item": {
      "key": "d",
      "value": 14
    }
  }
]
```
