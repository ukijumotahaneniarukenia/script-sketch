- CMD

  - hコマンドとxコマンドの間に置換処理sコマンドと出力処理pコマンドを挟むのは一つのパターンか

  - 直前のパタン蓄積結果をhコマンドでホールドスペースに逃し、直前のパタン蓄積結果に対してsコマンドによる置換などの整形処理を施した後、空白行以外を出力

  - 標準入力の対象文字列の先頭文字と末尾文字を知る必要がある


```
echo カレー食べたい | sed -r -n 's;.*;\n&\n;;tj;:j;s;(\n.)(.*)(.\n);\3\2\1;g;tj;;s;\n;;g;ta;:a;s/(.)(.*)/\2\1/;s;(.)(.*);\1\2;;h;s/.*カ//;;/^$/!p;x;/^い/{p;Q};;ta'
```

- OUT

```
い
いた
いたべ
いたべ食
いたべ食ー
いたべ食ーレ
いたべ食ーレカ
```
