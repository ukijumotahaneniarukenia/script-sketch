IN

LO HIでshufの-iオプションで指定できることを学んだ

paste -d\ でデフォのタブ区切りからスペース区切りで出力

```
$ shuf -i 1-100|paste -d\  - - >a
```

CMD

sedの周期出力でグルーピング

便利そう

```
$ time paste -d" " <(printf "%c\n" {A..Z}) <(for i in {1..26};do sed -n -e "$i~26p" a |tr "\n" " ";echo;done)
```

OUT


```
A 29 69 45 78 
B 38 88 61 27 
C 11 5 3 46 
D 81 33 84 77 
E 89 21 64 97 
F 44 96 32 83 
G 59 85 82 54 
H 87 57 90 8 
I 62 55 47 72 
J 63 80 41 31 
K 68 40 99 14 
L 30 98 1 13 
M 34 23 12 58 
N 65 6 52 71 
O 48 36 74 51 
P 39 70 93 10 
Q 22 7 91 49 
R 4 15 53 60 
S 42 67 43 26 
T 94 79 35 28 
U 56 17 18 2 
V 50 20 92 19 
W 100 76 9 25 
X 24 37 66 75 
Y 16 95 
Z 73 86 

real	0m0.108s
user	0m0.096s
sys	0m0.107s
```

CMD

各リストを数値ソートで出力

```
$ time paste -d" " <(printf "%c\n" {A..Z}) <(for i in {1..26};do sed -n -e "$i~26p" a |sort -n|tr "\n" " ";echo;done)
```

OUT

```
A 29 69 45 78 
B 38 88 61 27 
C 3 46 11 5 
D 81 33 84 77 
E 64 97 89 21 
F 32 83 44 96 
G 59 85 82 54 
H 87 57 90 8 
I 47 72 62 55 
J 41 31 63 80 
K 68 40 99 14 
L 1 13 30 98 
M 12 58 34 23 
N 52 71 65 6 
O 48 36 74 51 
P 39 70 93 10 
Q 22 7 91 49 
R 4 15 53 60 
S 42 67 43 26 
T 35 28 94 79 
U 18 2 56 17 
V 50 20 92 19 
W 9 25 100 76 
X 24 37 66 75 
Y 16 95 
Z 73 86 

real	0m0.088s
user	0m0.123s
sys	0m0.106s
```


CMD

rubyのワンライナー


```
$ time cat a | ruby -anle 'BEGIN{a=[];b=[];};a<<$F;END{a.map.with_index{|e,i|b.push((i.modulo(26)+65).chr=>e)};b.group_by{|k,v|k.keys[0]}.map{|k,v|print k," ",v.map{|e|e.values}.flatten.map{|e|e.to_i}.sort.join(" ")}}'
```

OUT

```
A 29 45 69 78
B 27 38 61 88
C 3 5 11 46
D 33 77 81 84
E 21 64 89 97
F 32 44 83 96
G 54 59 82 85
H 8 57 87 90
I 47 55 62 72
J 31 41 63 80
K 14 40 68 99
L 1 13 30 98
M 12 23 34 58
N 6 52 65 71
O 36 48 51 74
P 10 39 70 93
Q 7 22 49 91
R 4 15 53 60
S 26 42 43 67
T 28 35 79 94
U 2 17 18 56
V 19 20 50 92
W 9 25 76 100
X 24 37 66 75
Y 16 95
Z 73 86

real	0m0.041s
user	0m0.037s
sys	0m0.008s
```


CMD

javascriptのワンライナー

```
$ time cat a | node -e 'let s=require("fs").readFileSync("/dev/stdin","utf8");a=s.replace(/\n$/,"").split("\n");c={};b=a.map((e,i)=>{return {key:String.fromCharCode((i%26)+65),value:e}});b.map((e,i)=>{return c[e["key"]]=(c[e["key"]]===undefined?"":c[e["key"]])+" "+e["value"]});Object.keys(c).map((k)=>{console.log(k,c[k].split(/ /).filter(e=>{return e!==""}).map(e=>{return e.padStart(6,"0")}).sort().map(e=>{return Number.parseInt(e)}).join(" "))})'
```

OUT

```
A 29 45 69 78
B 27 38 61 88
C 3 5 11 46
D 33 77 81 84
E 21 64 89 97
F 32 44 83 96
G 54 59 82 85
H 8 57 87 90
I 47 55 62 72
J 31 41 63 80
K 14 40 68 99
L 1 13 30 98
M 12 23 34 58
N 6 52 65 71
O 36 48 51 74
P 10 39 70 93
Q 7 22 49 91
R 4 15 53 60
S 26 42 43 67
T 28 35 79 94
U 2 17 18 56
V 19 20 50 92
W 9 25 76 100
X 24 37 66 75
Y 16 95
Z 73 86

real	0m0.030s
user	0m0.031s
sys	0m0.004s
```
