

CMD

```
$ cat a.jq
def XXX:

    select (. != null) |
    if (has("contents"))
    then
       ([.type,.name,.mode,.prot,.user,.group,.size,.time,.directories,.files])
       , (.contents[] | XXX)
    else
       [.type,.name,.mode,.prot,.user,.group,.size,.time,.directories,.files]
    end;

XXX
```


```
$ tree -a -ugpfhqD --timefmt '%Y-%m-%dT%H:%M:%S' -J /etc | sed -r 's;\\;\\\\;g;' | jq '.[]' | jq -f a.jq | jq -r 'select(. != null)|@tsv' | sed '1itype\tname\tmode\tprot\tuser\tgroup\tsize\tlast-modified\tdirectories\tfiles' >sample-etc.tsv
```
