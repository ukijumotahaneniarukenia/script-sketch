各行の要素数が出力される。
```
$echo -e  "'1000',a,c,b\nu,n,ko" | awk '{print split($0,array,",")}'
4
3
```

```
[sqlite💚ceacf3fb0808 (水 10月 30 20:53:13) ~/script_scratch/awk]$echo -e  "'1000',a,c,b\nu,n,ko" | awk '{print NR,split($0,array,",")}'
1 4
2 3

```


awkは肯定先読みとかできないのかな

```
$echo -e  "'1000',a,c,b\nu,n,ko" | awk '{print split($0,array,",(?=(?:[^\x27]*\x27[^\x27]*\x27)*[^\x27]*$)")}'
1
1
```


perlが正規表現つよいのか
```
[sqlite💚ceacf3fb0808 (水 10月 30 20:55:19) ~/script_scratch/awk]$echo -e  "'1000',a,c,b\nu,n,ko" | awk '{ele_cnt=split($0,array,",");for(i=1;i<=ele_cnt;i++)print NR,i,array[i]}'
1 1 '1000'
1 2 a
1 3 c
1 4 b
2 1 u
2 2 n
2 3 ko
[sqlite💚ceacf3fb0808 (水 10月 30 20:55:25) ~/script_scratch/awk]$echo -e  "'1,000',a,c,b\nu,n,ko" | awk '{ele_cnt=split($0,array,",");for(i=1;i<=ele_cnt;i++)print NR,i,array[i]}'
1 1 '1
1 2 000'
1 3 a
1 4 c
1 5 b
2 1 u
2 2 n
2 3 ko
```


```
$echo -e  "'1000',a,c,b\nu,n,ko" | awk '{ele_cnt=split($0,array,",");cum="";for(i=1;i<=ele_cnt;i++)print NR,i,array[i],$0,cum=cum","array[i]}'
1 1 '1000' '1000',a,c,b ,'1000'
1 2 a '1000',a,c,b ,'1000',a
1 3 c '1000',a,c,b ,'1000',a,c
1 4 b '1000',a,c,b ,'1000',a,c,b
2 1 u u,n,ko ,u
2 2 n u,n,ko ,u,n
2 3 ko u,n,ko ,u,n,ko
```


```
[sqlite💚ceacf3fb0808 (水 10月 30 21:00:04) ~/script_scratch/awk]$echo -e  "z,aa,c,bb\nu,n,ko" | awk '{ele_cnt=split($0,array,",");cum="";for(i=1;i<=ele_cnt;i++)print NR,i,array[i],$0,cum=cum","array[i]}' | keta
1 1  z z,aa,c,bb         ,z
1 2 aa z,aa,c,bb      ,z,aa
1 3  c z,aa,c,bb    ,z,aa,c
1 4 bb z,aa,c,bb ,z,aa,c,bb
2 1  u    u,n,ko         ,u
2 2  n    u,n,ko       ,u,n
2 3 ko    u,n,ko    ,u,n,ko
```

```
[sqlite💚ceacf3fb0808 (水 10月 30 21:01:53) ~/script_scratch/awk]$echo -e  "z,aa,c,bb\nu,n,ko" | awk '{ele_cnt=split($0,array,",");cum="";for(i=ele_cnt;i>0;i--)print NR,i,array[i],$0,cum=cum","array[i]}' | keta
1 4 bb z,aa,c,bb        ,bb
1 3  c z,aa,c,bb      ,bb,c
1 2 aa z,aa,c,bb   ,bb,c,aa
1 1  z z,aa,c,bb ,bb,c,aa,z
2 3 ko    u,n,ko        ,ko
2 2  n    u,n,ko      ,ko,n
2 1  u    u,n,ko    ,ko,n,u
```


```
[sqlite💚ceacf3fb0808 (水 10月 30 21:02:32) ~/script_scratch/awk]$echo -e  "z,aa,c,bb\nu,n,ko" | sed '1iう,ん,こ' | awk '{ele_cnt=split($0,array,",");cum="";for(i=ele_cnt;i>0;i--)print NR,i,array[i],$0,cum=cum","arry[i]}' | keta
1 3 こ  う,ん,こ        ,こ
1 2 ん  う,ん,こ     ,こ,ん
1 1 う  う,ん,こ  ,こ,ん,う
2 4 bb z,aa,c,bb        ,bb
2 3  c z,aa,c,bb      ,bb,c
2 2 aa z,aa,c,bb   ,bb,c,aa
2 1  z z,aa,c,bb ,bb,c,aa,z
3 3 ko    u,n,ko        ,ko
3 2  n    u,n,ko      ,ko,n
3 1  u    u,n,ko    ,ko,n,u
```


```
[sqlite💚ceacf3fb0808 (水 10月 30 21:05:12) ~/script_scratch/awk]$echo -e  "z,aa,c,bb\nu,n,ko" | sed -e '2i💩,💩,💩' -e '1iう,ん,こ' | awk '{ele_cnt=split($0,array,",");cum="";for(i=ele_cnt;i>0;i--)print NR,i,ari],$0,cum=cum","array[i]}' | keta
1 3 こ  う,ん,こ        ,こ
1 2 ん  う,ん,こ     ,こ,ん
1 1 う  う,ん,こ  ,こ,ん,う
2 4 bb z,aa,c,bb        ,bb
2 3  c z,aa,c,bb      ,bb,c
2 2 aa z,aa,c,bb   ,bb,c,aa
2 1  z z,aa,c,bb ,bb,c,aa,z
3 3 💩  💩,💩,💩        ,💩
3 2 💩  💩,💩,💩     ,💩,💩
3 1 💩  💩,💩,💩  ,💩,💩,💩
4 3 ko    u,n,ko        ,ko
4 2  n    u,n,ko      ,ko,n
4 1  u    u,n,ko    ,ko,n,u
```
