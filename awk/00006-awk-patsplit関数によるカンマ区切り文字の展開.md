- IN

```
$echo 'a,b,,c' 'aaa,nnnn'
a,b,,c aaa,nnnn
```


- CMD

```
$gawk -f ./patsplit.awk 'a,b,,c' 'aaa,nnnn'
```

- OUT
```
n = 4
cols[1] = <a>
cols[2] = <b>
cols[3] = <>
cols[4] = <c>
n = 2
cols[1] = <aaa>
cols[2] = <nnnn>
```


- IN

```
$printf "%s\n" {,k}{a,i,u,e,o} | uconv -x hiragana | xargs -n3 | tr ' ' ','
あ,い,う
え,お,か
き,く,け
こ
```


- CMD

```
$printf "%s\n" {,k}{a,i,u,e,o} | uconv -x hiragana | xargs -n3 | tr ' ' ',' | gawk -v FPAT="([^,]*)|(\"[^\"]+\")" '{for(i=NF;i>0;i--){print NR,i,$i,$0}}'
```

- OUT

```
1 3 う あ,い,う
1 2 い あ,い,う
1 1 あ あ,い,う
2 3 か え,お,か
2 2 お え,お,か
2 1 え え,お,か
3 3 け き,く,け
3 2 く き,く,け
3 1 き き,く,け
4 1 こ こ
```

- CMD

```
$printf "%s\n" {,k}{a,i,u,e,o} | uconv -x hiragana | xargs -n3 | tr ' ' ',' | gawk -v FPAT="([^,]*)|(\"[^\"]+\")" '{for(i=1;i<NF+1;i++){print NR,i,$i,$0}}'
```

- OUT

```
1 1 あ あ,い,う
1 2 い あ,い,う
1 3 う あ,い,う
2 1 え え,お,か
2 2 お え,お,か
2 3 か え,お,か
3 1 き き,く,け
3 2 く き,く,け
3 3 け き,く,け
4 1 こ こ
```

- IN

```
$cat test.csv
1,,すてきな雑貨,"2,500"
2,,格好いい置物,"4,500"
3,,間接照明,"3,400"
4,,小物入れ,"1,200"
```


- CMD

```
$cat test.csv | gawk -v FS=, -v FPAT="([^,]+)|(\"[^\"]+\")" '{for(i=1;i<NF+1;i++){print NR,i,$i,$0}}' | keta
```

- OUT

```
1 1            1 1,,すてきな雑貨,"2,500"
1 2 すてきな雑貨 1,,すてきな雑貨,"2,500"
1 3      "2,500" 1,,すてきな雑貨,"2,500"
2 1            2 2,,格好いい置物,"4,500"
2 2 格好いい置物 2,,格好いい置物,"4,500"
2 3      "4,500" 2,,格好いい置物,"4,500"
3 1            3     3,,間接照明,"3,400"
3 2     間接照明     3,,間接照明,"3,400"
3 3      "3,400"     3,,間接照明,"3,400"
4 1            4     4,,小物入れ,"1,200"
4 2     小物入れ     4,,小物入れ,"1,200"
4 3      "1,200"     4,,小物入れ,"1,200"
```
