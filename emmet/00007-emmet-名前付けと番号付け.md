- IN

```
$ echo 'ul>li.sample$*5'
ul>li.sample$*5
```


- CMD


```
$ echo 'ul>li.sample$*5' | emmet
```

- OUT

```
<ul>
	<li class="sample1"></li>
	<li class="sample2"></li>
	<li class="sample3"></li>
	<li class="sample4"></li>
	<li class="sample5"></li>
</ul>
```

- CMD

```
$ echo 'ul>li.sample$*5' | emmet | jq -Rr '[splits("[^0-9a-zA-Z]\\K")|splits("[0-9a-zA-Z]+\\K")|select(""!=.)]|join("")'
```


- OUT

```
<ul>
	<li class="sample1"></li>
	<li class="sample2"></li>
	<li class="sample3"></li>
	<li class="sample4"></li>
	<li class="sample5"></li>
</ul>
```



- IN

```
$ echo 'h$[title=topic$]{ヘッダーダヨーン $}*5'
h$[title=topic$]{ヘッダーダヨーン $}*5
```

- CMD

```
$ echo 'h$[title=topic$]{ヘッダーダヨーン $}*5' | emmet
```

- OUT

```
<h1 title="topic1">ヘッダーダヨーン 1</h1>
<h2 title="topic2">ヘッダーダヨーン 2</h2>
<h3 title="topic3">ヘッダーダヨーン 3</h3>
<h4 title="topic4">ヘッダーダヨーン 4</h4>
<h5 title="topic5">ヘッダーダヨーン 5</h5>
```

セグフォった

マルチバイト文字はだめか

```
$ echo 'h$[title=topic$]{ヘッダーダヨーン $}*5' | emmet | jq -Rr '[splits("[^0-9a-zA-Z]\\K")|splits("[0-9a-zA-Z]+\\K")|select(""!=.)]|join("")'
Segmentation fault (コアダンプ)
```



```
$ echo 'h$[title=topic$]{HeadLines $}*5' | emmet | jq -Rr '[splits("[^0-9a-zA-Z]\\K")|splits("[0-9a-zA-Z]+\\K")|select(""!=.)]|join("")'
<h1 title="topic1">HeadLines 1</h1>
<h2 title="topic2">HeadLines 2</h2>
<h3 title="topic3">HeadLines 3</h3>
<h4 title="topic4">HeadLines 4</h4>
<h5 title="topic5">HeadLines 5</h5>
```


これならセグフォ起きない

```
$ echo '<h1 title="topic1">ヘッダーダヨーン 1</h1>' | jq -Rr '[splits("(?<=\\W)")|splits("\\w+\\K")|select(""!=.)]|join("")'
<h1 title="topic1">ヘッダーダヨーン 1</h1>




$ echo 'div>(header>ul>li*2>a)+footer>p' | jq -Rr '[splits("(?<=\\W)")|splits("\\w+\\K")|select(""!=.)]|join("")'
div>(header>ul>li*2>a)+footer>p
```



```
$ echo 'ul>li.item$$$*5' | jq -Rr '[splits("(?<=\\W)")|splits("\\w+\\K")|select(""!=.)]|join("")'
ul>li.item$$$*5

$ echo 'ul>li.item$$$*5' | jq -Rr '[splits("(?<=\\W)")|splits("\\w+\\K")|select(""!=.)]'
[
  "ul",
  ">",
  "li",
  ".",
  "item",
  "$",
  "$",
  "$",
  "*",
  "5"
]

$ echo 'ul>li.item$$$*5' | emmet
<ul>
	<li class="item001"></li>
	<li class="item002"></li>
	<li class="item003"></li>
	<li class="item004"></li>
	<li class="item005"></li>
</ul>
```



```
$ echo 'ul>li.item$@-1*5' | emmet
<ul>
	<li class="item5"></li>
	<li class="item4"></li>
	<li class="item3"></li>
	<li class="item2"></li>
	<li class="item1"></li>
</ul>

$ echo 'ul>li.item$@-2*5' | emmet
<ul>
	<li class="item6"></li>
	<li class="item5"></li>
	<li class="item4"></li>
	<li class="item3"></li>
	<li class="item2"></li>
</ul>

$ echo 'ul>li.item$@3*5' | emmet
<ul>
	<li class="item3"></li>
	<li class="item4"></li>
	<li class="item5"></li>
	<li class="item6"></li>
	<li class="item7"></li>
</ul>
```
