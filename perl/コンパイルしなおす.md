ã¨ã‚Šã‚ãˆãšã®ç¾çŠ¶ã€‚
ã‚·ã‚¹ãƒ†ãƒ ã®perlãªã‚‰å‹•ãã‚“ã ã‚ˆãªã€‚

```
[rootâ£ceacf3fb0808 (é‡‘ 11æœˆ 01 23:16:44) /usr/local/src/perl-5.30.0]$/usr/bin/perl -V
Summary of my perl5 (revision 5 version 16 subversion 3) configuration:
   
  Platform:
    osname=linux, osvers=3.10.0-693.17.1.el7.x86_64, archname=x86_64-linux-thread-multi
    uname='linux x86-01.bsys.centos.org 3.10.0-693.17.1.el7.x86_64 #1 smp thu jan 25 20:13:58 utc 2018 x86_64 x86_64 x86_64 gnulinux '
    config_args='-des -Doptimize=-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic -Dccdlflags=-Wl,--enable-new-dtags -Dlddlflags=-shared -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic -Wl,-z,relro  -DDEBUGGING=-g -Dversion=5.16.3 -Dmyhostname=localhost -Dperladmin=root@localhost -Dcc=gcc -Dcf_by=Red Hat, Inc. -Dprefix=/usr -Dvendorprefix=/usr -Dsiteprefix=/usr/local -Dsitelib=/usr/local/share/perl5 -Dsitearch=/usr/local/lib64/perl5 -Dprivlib=/usr/share/perl5 -Dvendorlib=/usr/share/perl5/vendor_perl -Darchlib=/usr/lib64/perl5 -Dvendorarch=/usr/lib64/perl5/vendor_perl -Darchname=x86_64-linux-thread-multi -Dlibpth=/usr/local/lib64 /lib64 /usr/lib64 -Duseshrplib -Dusethreads -Duseithreads -Dusedtrace=/usr/bin/dtrace -Duselargefiles -Dd_semctl_semun -Di_db -Ui_ndbm -Di_gdbm -Di_shadow -Di_syslog -Dman3ext=3pm -Duseperlio -Dinstallusrbinperl=n -Ubincompat5005 -Uversiononly -Dpager=/usr/bin/less -isr -Dd_gethostent_r_proto -Ud_endhostent_r_proto -Ud_sethostent_r_proto -Ud_endprotoent_r_proto -Ud_setprotoent_r_proto -Ud_endservent_r_proto -Ud_setservent_r_proto -Dscriptdir=/usr/bin -Dusesitecustomize'
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc='gcc', ccflags ='-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64',
    optimize='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic',
    cppflags='-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include'
    ccversion='', gccversion='4.8.5 20150623 (Red Hat 4.8.5-36)', gccosandvers=''
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype='long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld='gcc', ldflags =' -fstack-protector'
    libpth=/usr/local/lib64 /lib64 /usr/lib64
    libs=-lresolv -lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lpthread -lc -lgdbm_compat
    perllibs=-lresolv -lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version='2.17'
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags='-Wl,--enable-new-dtags -Wl,-rpath,/usr/lib64/perl5/CORE'
    cccdlflags='-fPIC', lddlflags='-shared -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -Wl,-z,relro '


Characteristics of this binary (from libperl): 
  Compile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS
                        PERL_DONT_CREATE_GVSV PERL_IMPLICIT_CONTEXT
                        PERL_MALLOC_WRAP PERL_PRESERVE_IVUV USE_64_BIT_ALL
                        USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES
                        USE_LOCALE USE_LOCALE_COLLATE USE_LOCALE_CTYPE
                        USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF
                        USE_REENTRANT_API USE_SITECUSTOMIZE
  Locally applied patches:
	Fedora Patch1: Removes date check, Fedora/RHEL specific
	Fedora Patch3: support for libdir64
	Fedora Patch4: use libresolv instead of libbind
	Fedora Patch5: USE_MM_LD_RUN_PATH
	Fedora Patch6: Skip hostname tests, due to builders not being network capable
	Fedora Patch7: Dont run one io test due to random builder failures
	Fedora Patch9: Fix find2perl to translate ? glob properly (RT#113054)
	Fedora Patch10: Fix broken atof (RT#109318)
	Fedora Patch13: Clear $@ before "do" I/O error (RT#113730)
	Fedora Patch14: Do not truncate syscall() return value to 32 bits (RT#113980)
	Fedora Patch15: Override the Pod::Simple::parse_file (CPANRT#77530)
	Fedora Patch16: Do not leak with attribute on my variable (RT#114764)
	Fedora Patch17: Allow operator after numeric keyword argument (RT#105924)
	Fedora Patch18: Extend stack in File::Glob::glob, (RT#114984)
	Fedora Patch19: Do not crash when vivifying $|
	Fedora Patch20: Fix misparsing of maketext strings (CVE-2012-6329)
	Fedora Patch21: Add NAME headings to CPAN modules (CPANRT#73396)
	Fedora Patch22: Fix leaking tied hashes (RT#107000) [1]
	Fedora Patch23: Fix leaking tied hashes (RT#107000) [2]
	Fedora Patch24: Fix leaking tied hashes (RT#107000) [3]
	Fedora Patch25: Fix dead lock in PerlIO after fork from thread (RT#106212)
	Fedora Patch26: Make regexp safe in a signal handler (RT#114878)
	Fedora Patch27: Update h2ph(1) documentation (RT#117647)
	Fedora Patch28: Update pod2html(1) documentation (RT#117623)
	Fedora Patch29: Document Math::BigInt::CalcEmu requires Math::BigInt (CPAN RT#85015)
	RHEL Patch30: Use stronger algorithm needed for FIPS in t/op/crypt.t (RT#121591)
	RHEL Patch31: Make *DBM_File desctructors thread-safe (RT#61912)
	RHEL Patch32: Use stronger algorithm needed for FIPS in t/op/taint.t (RT#123338)
	RHEL Patch33: Remove CPU-speed-sensitive test in Benchmark test
	RHEL Patch34: Make File::Glob work with threads again
	RHEL Patch35: Fix CRLF conversion in ASCII FTP upload (CPAN RT#41642)
	RHEL Patch36: Do not leak the temp utf8 copy of namepv (CPAN RT#123786)
	RHEL Patch37: Fix duplicating PerlIO::encoding when spawning threads (RT#31923)
	RHEL Patch38: Add SSL support to Net::SMTP (CPAN RT#93823) [1]
	RHEL Patch39: Add SSL support to Net::SMTP (CPAN RT#93823) [2]
	RHEL Patch40: Add SSL support to Net::SMTP (CPAN RT#93823) [3]
	RHEL Patch41: Add SSL support to Net::SMTP (CPAN RT#93823) [4]
	RHEL Patch42: Do not overload ".." in Math::BigInt (CPAN RT#80182)
	RHEL Patch43: Fix CVE-2018-18311 Integer overflow leading to buffer overflow
  Built under linux
  Compiled at Jan 21 2019 22:09:19
  %ENV:
    PERL5LIB="/home/sqlite/perl5/lib/perl5:/home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi"
  @INC:
    /home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi
    /home/sqlite/perl5/lib/perl5
    /home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi
    /usr/local/lib64/perl5
    /usr/local/share/perl5
    /usr/lib64/perl5/vendor_perl
    /usr/share/perl5/vendor_perl
    /usr/lib64/perl5
    /usr/share/perl5
    .
[rootâ£ceacf3fb0808 (é‡‘ 11æœˆ 01 23:16:55) /usr/local/src/perl-5.30.0]$/usr/local/bin/perl -V
Summary of my perl5 (revision 5 version 30 subversion 0) configuration:
   
  Platform:
    osname=linux
    osvers=3.10.0-1062.el7.x86_64
    archname=x86_64-linux-thread
    uname='linux ceacf3fb0808 3.10.0-1062.el7.x86_64 #1 smp wed aug 7 18:08:02 utc 2019 x86_64 x86_64 x86_64 gnulinux '
    config_args='-des -Dprefix=/usr/local -Dusethreads -D symbol=Perl_xs_apiversion_bootcheck -Dcc=gcc'
    hint=previous
    useposix=true
    d_sigaction=define
    useithreads=define
    usemultiplicity=undef
    use64bitint=define
    use64bitall=define
    uselongdouble=undef
    usemymalloc=n
    default_inc_excludes_dot=define
    bincompat5005=undef
  Compiler:
    cc='gcc'
    ccflags ='-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_FORTIFY_SOURCE=2'
    optimize='-O2'
    cppflags='-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include'
    ccversion=''
    gccversion='4.8.5 20150623 (Red Hat 4.8.5-39)'
    gccosandvers=''
    intsize=4
    longsize=8
    ptrsize=8
    doublesize=8
    byteorder=12345678
    doublekind=3
    d_longlong=define
    longlongsize=8
    d_longdbl=define
    longdblsize=16
    longdblkind=3
    ivtype='long'
    ivsize=8
    nvtype='double'
    nvsize=8
    Off_t='off_t'
    lseeksize=8
    alignbytes=8
    prototype=define
  Linker and Libraries:
    ld='cc'
    ldflags =' -fstack-protector-strong -L/usr/local/lib'
    libpth=/usr/local/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64 /usr/local/lib /usr/lib /usr/local/lib /usr/lib /usr/local/lib /usr/lib /usr/local/lib /usr/lib /usr/local/lib /usr/lib
    libs=-lpthread -lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc -lgdbm_compat
    perllibs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    libc=libc-2.17.so
    so=so
    useshrplib=false
    libperl=libperl.a
    gnulibc_version='2.17'
  Dynamic Linking:
    dlsrc=dl_dlopen.xs
    dlext=so
    d_dlsymun=undef
    ccdlflags='-Wl,-E'
    cccdlflags='-fPIC'
    lddlflags='-shared -O2 -L/usr/local/lib -fstack-protector-strong'


Characteristics of this binary (from libperl): 
  Compile-time options:
    HAS_TIMES
    MULTIPLICITY
    PERLIO_LAYERS
    PERL_COPY_ON_WRITE
    PERL_DONT_CREATE_GVSV
    PERL_IMPLICIT_CONTEXT
    PERL_MALLOC_WRAP
    PERL_OP_PARENT
    PERL_PRESERVE_IVUV
    USE_64_BIT_ALL
    USE_64_BIT_INT
    USE_ITHREADS
    USE_LARGE_FILES
    USE_LOCALE
    USE_LOCALE_COLLATE
    USE_LOCALE_CTYPE
    USE_LOCALE_NUMERIC
    USE_LOCALE_TIME
    USE_PERLIO
    USE_PERL_ATOF
    USE_REENTRANT_API
    USE_THREAD_SAFE_LOCALE
  Built under linux
  Compiled at Nov  1 2019 23:15:10
  %ENV:
    PERL5LIB="/home/sqlite/perl5/lib/perl5:/home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi"
  @INC:
    /home/sqlite/perl5/lib/perl5
    /home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi
    /usr/local//lib/perl5/site_perl/5.30.0/x86_64-linux
    /usr/local//lib/perl5/site_perl/5.30.0
    /usr/local/lib/perl5/5.30.0/x86_64-linux
    /usr/local/lib/perl5/5.30.0

```

```
[sqliteğŸ’šceacf3fb0808 (é‡‘ 11æœˆ 01 22:47:46) ~/script_scratch/perl]$/usr/local/bin/perl -v

This is perl 5, version 30, subversion 0 (v5.30.0) built for x86_64-linux-thread

Copyright 1987-2019, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at http://www.perl.org/, the Perl Home Page.

[sqliteğŸ’›ceacf3fb0808 (é‡‘ 11æœˆ 01 22:49:08) ~/script_scratch/perl]$perl -v

This is perl 5, version 30, subversion 0 (v5.30.0) built for x86_64-linux-thread

Copyright 1987-2019, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at http://www.perl.org/, the Perl Home Page.

[sqliteğŸ’›ceacf3fb0808 (é‡‘ 11æœˆ 01 22:49:19) ~/script_scratch/perl]$ldd /usr/bin/perl
	linux-vdso.so.1 =>  (0x00007ffc803a1000)
	libperl.so => /usr/lib64/perl5/CORE/libperl.so (0x00007f7ebde18000)
	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f7ebdbff000)
	libnsl.so.1 => /lib64/libnsl.so.1 (0x00007f7ebd9e5000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f7ebd7e1000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f7ebd4df000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f7ebd2a8000)
	libutil.so.1 => /lib64/libutil.so.1 (0x00007f7ebd0a5000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f7ebce89000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f7ebcabb000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f7ebe1a6000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007f7ebc8b8000)
[sqliteğŸ’›ceacf3fb0808 (é‡‘ 11æœˆ 01 22:49:29) ~/script_scratch/perl]$ldd /usr/local/bin/perl
	linux-vdso.so.1 =>  (0x00007ffda2946000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f816eb07000)
	libnsl.so.1 => /lib64/libnsl.so.1 (0x00007f816e8ed000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f816e6e9000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f816e3e7000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f816e1b0000)
	libutil.so.1 => /lib64/libutil.so.1 (0x00007f816dfad000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f816dbdf000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f816ed23000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007f816d9dc000)
```

https://www.perlmonks.org/?node_id=138766</br >
https://stackoverflow.com/questions/20906132/error-during-dynaloader-pm-execution-how-does-so-file-relate-or-created-to-this</br >
https://ja.stackoverflow.com/questions/7429/perl%E3%81%AB%E3%81%A6-symbol-lookup-error-undefined-symbol-perl-gthr-key-ptr-%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E3%81%A7%E3%82%8B</br >

```
[rootğŸ’•ceacf3fb0808 (é‡‘ 11æœˆ 01 08:33:16) /usr/local/src/perl-5.30.0]$./Configure -des -Dprefix=/usr/local/ -A 
[rootğŸ’•ceacf3fb0808 (é‡‘ 11æœˆ 01 08:33:16) /usr/local/src/perl-5.30.0]$make -j12
[rootğŸ’•ceacf3fb0808 (é‡‘ 11æœˆ 01 08:33:16) /usr/local/src/perl-5.30.0]$make -j12 install
```

```
[sqliteâ™¥29231fdc7920 (é‡‘ 11æœˆ 01 00:44:32) ~/script_scratch/perl]$./é›†åˆæ¼”ç®—.pl
Can't load '/home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi/auto/Want/Want.so' for module Want: /home/sqlite/perl5/lib/perl5/x86_64-linux-thread-multi/auto/Want/Want.so: undefined symbol: PL_thr_key at /usr/local/lib/perl5/5.30.0/x86_64-linux/DynaLoader.pm line 193.
 at /home/sqlite/perl5/lib/perl5/Set/Array.pm line 7.
Compilation failed in require at /home/sqlite/perl5/lib/perl5/Set/Array.pm line 7.
BEGIN failed--compilation aborted at /home/sqlite/perl5/lib/perl5/Set/Array.pm line 7.
Compilation failed in require at ./é›†åˆæ¼”ç®—.pl line 6.
BEGIN failed--compilation aborted at ./é›†åˆæ¼”ç®—.pl line 6.
```

```
[rootğŸ’”29231fdc7920 (é‡‘ 11æœˆ 01 08:03:57) /usr/local/src/perl-5.30.0]$./Configure --help
Usage: Configure [-dehrsEKOSV] [-f config.sh] [-D symbol] [-D symbol=value]
                 [-U symbol] [-U symbol=] [-A command:symbol...]
  -d : use defaults for all answers.
  -e : go on without questioning past the production of config.sh.
  -f : specify an alternate default configuration file.
  -h : print this help message and exit (with an error status).
  -r : reuse C symbols value if possible (skips costly nm extraction).
  -s : silent mode, only echoes questions and essential information.
  -D : define symbol to have some value:
         -D symbol         symbol gets the value 'define'
         -D symbol=value   symbol gets the value 'value'
       common used examples (see INSTALL for more info):
         -Duse64bitint            use 64bit integers
         -Duse64bitall            use 64bit integers and pointers
         -Dusethreads             use thread support
         -Dinc_version_list=none  do not include older perl trees in @INC
         -DEBUGGING=none          DEBUGGING options
         -Dcc=gcc                 choose your compiler
         -Dprefix=/opt/perl5      choose your destination
  -E : stop at the end of questions, after having produced config.sh.
  -K : do not use unless you know what you are doing.
  -O : ignored for backward compatibility
  -S : perform variable substitutions on all .SH files (can mix with -f)
  -U : undefine symbol:
         -U symbol    symbol gets the value 'undef'
         -U symbol=   symbol gets completely empty
       e.g.:  -Uversiononly
  -A : manipulate symbol after the platform specific hints have been applied:
         -A append:symbol=value   append value to symbol
         -A symbol=value          like append:, but with a separating space
         -A define:symbol=value   define symbol to have value
         -A clear:symbol          define symbol to be ''
         -A define:symbol         define symbol to be 'define'
         -A eval:symbol=value     define symbol to be eval of value
         -A prepend:symbol=value  prepend value to symbol
         -A undef:symbol          define symbol to be 'undef'
         -A undef:symbol=         define symbol to be ''
       e.g.:  -A prepend:libswanted='cl pthread '
              -A ccflags=-DSOME_MACRO
  -V : print version number and exit (with a zero status).
```
