- IN

```
echo -e  "'100',あ,い,うえ\nう,こん,no,力,'10,000'\na,b,c,'1,000',d"
```

- CMD

  - 先頭にシングルクヲート
  - シングルクヲート以外の文字列が0回以上続き、その後にシングルクヲートが1回
  - シングルクヲート以外の文字列が0回以上続き、その後にシングルクヲートが1回
  - 上記２つをグループキャッチしたものが0回以上続き、その後にシングルクヲート以外の文字列が0回以上


  - やりたいことは、シングルクヲートに囲まれていない文字列のカンマをsplit関数のパタンキャッチに渡している
```
echo -e "'100',あ,い,うえ\nう,こん,no,力,'10,000'\na,b,c,'1,000',d" | perl -nle '
  $,=",";@ary=split(/,(?=(?:[^\x27]*\x27[^\x27]*\x27)*[^\x27]*$)/,$_);
  while(my($idx,$ele)=each(@ary)){
    print $.,$idx,$ele;
  }
  '
```


- OUT

```
1,0,'100'
1,1,あ
1,2,い
1,3,うえ
2,0,う
2,1,こん
2,2,no
2,3,力
2,4,'10,000'
3,0,a
3,1,b
3,2,c
3,3,'1,000'
3,4,d
```
