PRE

```
$ curl -fsSLO https://raw.githubusercontent.com/mholt/json-to-go/master/json-to-go.js
```

コマンドラインより構造体を出力する

IN

```
$ cat 00041-golang-json構造体マッピング/test.json
[
  {
    "id": 1,
    "name": "akane",
    "birthday": "08-16",
    "vivid_info": {
      "color": "red",
      "weapon": "Rang"
    }
  },
  {
    "id": 2,
    "name": "aoi",
    "birthday": "06-17",
    "vivid_info": {
      "color": "blue",
      "weapon": "Impact"
    }
  },
  {
    "id": 3,
    "name": "wakaba",
    "birthday": "05-22",
    "vivid_info": {
      "color": "green",
      "weapon": "Blade"
    }
  },
  {
    "id": 4,
    "name": "himawari",
    "birthday": "07-23",
    "vivid_info": {
      "color": "yellow",
      "weapon": "Collider"
    }
  }
]
```

CMD


```
$ cat 00041-golang-json構造体マッピング/test.json | node json-to-go.js
```

デフォルトは複数オブジェクトがネストしている場合は複数出力される

```
type AutoGenerated []struct {
	ID int `json:"id"`
	Name string `json:"name"`
	Birthday string `json:"birthday"`
	VividInfo VividInfo `json:"vivid_info"`
}
type VividInfo struct {
	Color string `json:"color"`
	Weapon string `json:"weapon"`
}
```

CMD

スクリプトを以下のように修正する

```
修正前
console.log(jsonToGo(json).go);

修正後
console.log(jsonToGo(json, "structureName", false).go);
```

CMD
```
$ cat 00041-golang-json構造体マッピング/test.json | node json-to-go.js
```

OUT
```
type StructureName []struct {
	ID int `json:"id"`
	Name string `json:"name"`
	Birthday string `json:"birthday"`
	VividInfo struct {
		Color string `json:"color"`
		Weapon string `json:"weapon"`
	} `json:"vivid_info"`
}
```



npmからインストールもできる

```
$ sudo npm install -g json-to-go-cli
```


CMD

```
$ json-to-go -f 00041-golang-json構造体マッピング/test.json
```

OUT
```
type AutoGenerated []struct {
	ID int `json:"id"`
	Name string `json:"name"`
	Birthday string `json:"birthday"`
	VividInfo struct {
		Color string `json:"color"`
		Weapon string `json:"weapon"`
	} `json:"vivid_info"`
}
```
