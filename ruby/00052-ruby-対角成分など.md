```
部分行列

ruby -rmatrix -e'a,b=$*.map &:to_i;m=Matrix.empty(0,a/b);(1...a).each_cons(a/b){m=Matrix.vstack(m,Matrix[_1])};p m' 10 2


Matrix[[1, 2, 3, 4, 5], [2, 3, 4, 5, 6], [3, 4, 5, 6, 7], [4, 5, 6, 7, 8], [5, 6, 7, 8, 9]]

ruby -rmatrix -e'a,b=$*.map &:to_i;m=Matrix.empty(0,a/b);(1...a).each_cons(a/b){m=Matrix.vstack(m,Matrix[_1])};p *m' 10 2


[1, 2, 3, 4, 5]
[2, 3, 4, 5, 6]
[3, 4, 5, 6, 7]
[4, 5, 6, 7, 8]
[5, 6, 7, 8, 9]
```


ruby -rmatrix -e 'a=[];3.times{|e|a<<[*(0...e+1)]};p *Matrix[a]'
[[0], [0, 1], [0, 1, 2]]


ruby -rmatrix -e 'a=[];3.times{|e|a<<[*(0...e+1)];p [*(0...e+1)]};p a'
[0]
[0, 1]
[0, 1, 2]
[[0], [0, 1], [0, 1, 2]]

ruby -rmatrix -e 'a=[];[*(1..10)].map{a<<[*(1.._1)];};[*(0...a.size)].map{|e|(10-a[e].size).times{|z|a[e]<<z};};p *a'





ruby -e 'a=[];[*(1..10)].reverse.map{a<<[*(1.._1)];};[*(0...a.size)].map{|e|(10-a[e].size).times{|z|a[e]<<0};};p *a'

[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
[1, 2, 3, 4, 5, 6, 7, 8, 0, 0]
[1, 2, 3, 4, 5, 6, 7, 0, 0, 0]
[1, 2, 3, 4, 5, 6, 0, 0, 0, 0]
[1, 2, 3, 4, 5, 0, 0, 0, 0, 0]
[1, 2, 3, 4, 0, 0, 0, 0, 0, 0]
[1, 2, 3, 0, 0, 0, 0, 0, 0, 0]
[1, 2, 0, 0, 0, 0, 0, 0, 0, 0]
[1, 0, 0, 0, 0, 0, 0, 0, 0, 0]

ruby -e 'a=[];[*(1..10)].reverse.map{a<<[*(1.._1)];};[*(0...a.size)].map{|e|(10-a[e].size).times{|z|a[e]<<0};};p *a.reverse'
[1, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[1, 2, 0, 0, 0, 0, 0, 0, 0, 0]
[1, 2, 3, 0, 0, 0, 0, 0, 0, 0]
[1, 2, 3, 4, 0, 0, 0, 0, 0, 0]
[1, 2, 3, 4, 5, 0, 0, 0, 0, 0]
[1, 2, 3, 4, 5, 6, 0, 0, 0, 0]
[1, 2, 3, 4, 5, 6, 7, 0, 0, 0]
[1, 2, 3, 4, 5, 6, 7, 8, 0, 0]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]


ruby -e 'a=[];[*(1..10)].reverse.map{a<<[*(1.._1)];};[*(0...a.size)].map{|e|(10-a[e].size).times{|z|a[e]<<0};};p *a.map{|e|e.reverse}'

[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
[0, 9, 8, 7, 6, 5, 4, 3, 2, 1]
[0, 0, 8, 7, 6, 5, 4, 3, 2, 1]
[0, 0, 0, 7, 6, 5, 4, 3, 2, 1]
[0, 0, 0, 0, 6, 5, 4, 3, 2, 1]
[0, 0, 0, 0, 0, 5, 4, 3, 2, 1]
[0, 0, 0, 0, 0, 0, 4, 3, 2, 1]
[0, 0, 0, 0, 0, 0, 0, 3, 2, 1]
[0, 0, 0, 0, 0, 0, 0, 0, 2, 1]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 1]


ruby -e 'a=[];[*(1..10)].reverse.map{a<<[*(1.._1)];};[*(0...a.size)].map{|e|(10-a[e].size).times{|z|a[e]<<0};};p *a.reverse.map{|e|e.reverse}'
[0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
[0, 0, 0, 0, 0, 0, 0, 0, 2, 1]
[0, 0, 0, 0, 0, 0, 0, 3, 2, 1]
[0, 0, 0, 0, 0, 0, 4, 3, 2, 1]
[0, 0, 0, 0, 0, 5, 4, 3, 2, 1]
[0, 0, 0, 0, 6, 5, 4, 3, 2, 1]
[0, 0, 0, 7, 6, 5, 4, 3, 2, 1]
[0, 0, 8, 7, 6, 5, 4, 3, 2, 1]
[0, 9, 8, 7, 6, 5, 4, 3, 2, 1]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]




対角成分抜き出し

ruby -rmatrix -e'c=[];a,b=$*.map &:to_i;m=Matrix.empty(0,a/b);(1...a).each_cons(a/b){m=Matrix.vstack(m,Matrix[_1])};p m.each(:diagonal).to_a' 10 2
[1, 3, 5, 7, 9]


対角成分抜き出し

ruby -rmatrix -e'c=[];a,b=$*.map &:to_i;m=Matrix.empty(0,a/b);(1...a).each_cons(a/b){m=Matrix.vstack(m,Matrix[_1])};p m.each(:off_diagonal).to_a' 10 2
[2, 3, 4, 5, 2, 4, 5, 6, 3, 4, 6, 7, 4, 5, 6, 8, 5, 6, 7, 8]



```
