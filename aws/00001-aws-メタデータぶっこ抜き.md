項目名が単一か複数か判定

CMD
```
$ cat a.json | json2kv-jq | tail -n+2 | awk -v FS='\t' '$0=$1' | ruby -F'\.' -anle 'puts $F'|sed '/^$/d'|sort|uniq|ruby -anle 'key=$F[0];is_multi=case when $F[0].match(/\[[0-9]+\]/) then 1 else 0 end;puts "#{key+"\t"+is_multi.to_s}"'|sed '1ikey\tvalue'
```

OUT
```
key	value
"AmiLaunchIndex"	0
"Architecture"	0
"Arn"	0
"Association"	0
"AttachTime"	0
"Attachment"	0
"AttachmentId"	0
"AvailabilityZone"	0
"BlockDeviceMappings"	0
"BlockDeviceMappings"[0]	1
"CapacityReservationPreference"	0
"CapacityReservationSpecification"	0
"ClientToken"	0
"Code"	0
"Configured"	0
"CoreCount"	0
"CpuOptions"	0
"DeleteOnTermination"	0
"Description"	0
```

キーバリューペアのキーリスト一覧取得

CMD
```
$ cat a.json | json2kv-jq | tail -n+2 | awk -v FS='\t' '$0=$1' | ruby -anle 'BEGIN{a=[];b=[];};a<<$_;END{b=a.map{|e|e.gsub(/(?<=\[)[0-9]+(?=\])/,"INDEX_NUMBER")};puts b.uniq.sort}'
```

OUT

```
."Reservations"
."Reservations"[INDEX_NUMBER]
."Reservations"[INDEX_NUMBER]."Groups"
."Reservations"[INDEX_NUMBER]."Instances"
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]."AmiLaunchIndex"
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]."Architecture"
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]."BlockDeviceMappings"
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]."BlockDeviceMappings"[INDEX_NUMBER]
."Reservations"[INDEX_NUMBER]."Instances"[INDEX_NUMBER]."BlockDeviceMappings"[INDEX_NUMBER]."DeviceName"
```

キーバリューペアのキーリスト件数取得

CMD
```
$ cat a.json | json2kv-jq | tail -n+2 | awk -v FS='\t' '$0=$1' | ruby -anle 'BEGIN{a=[];b=[];};a<<$_;END{b=a.map{|e|e.gsub(/(?<=\[)[0-9]+(?=\])/,"INDEX_NUMBER")};puts b.uniq.sort.size}'
```

OUT
```
114
```

取得キーリストの作成

CMD
```
$ cat a.json | json2kv-jq | tail -n+2 | awk -v FS='\t' '$0=$1' | ruby -anle 'BEGIN{a=[];b=[];};a<<$_;END{b=a.map{|e|e};puts b.uniq.sort}'|grep -P 'InstanceId|OwnerId|PrivateDnsName|PrivateIpAddress|PublicDnsName|PublicIpAddress|State|SubnetId|VpcId'>select-list.txt
```

キーバリューペア一覧取得

CMD

```
 cat select-list.txt | while read path;do echo -ne "$path";cat a.json | jq -r "$path|\"\t\(if ( type==\"object\" or type == \"array\" ) then null else . end)\"";done|awk -v FS='\t' '$2!="null"'
```


OUT

```

```
